- status = local_assigns.fetch(:status)
- css_class = local_assigns.fetch(:css_class, '')
- link = local_assigns.fetch(:link, true)
- css_classes = "ci-status ci-#{status.group} #{css_class}"

- if link && status.has_details?
  = link_to status.details_path, class: css_classes do
    = custom_icon(status.icon)
    = status.text
- else
  %span{ class: css_classes }
    = custom_icon(status.icon)
    = status.text
